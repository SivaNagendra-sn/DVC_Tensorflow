schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_1_load_save.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 4db7a9b350cef64dbcec22bbc21cdf63
      size: 473
    - path: src/stage_1_load_save.py
      md5: 61003b5cc9513f0d039d4cd96b9a401e
      size: 1690
    - path: src/utils/all_utils.py
      md5: 0fe9bcc4134f62977696fcc10a5dd5a5
      size: 998
    outs:
    - path: data/cat
      md5: 2acc285e327d446c48b2deae2794c043.dir
      size: 18570831
      nfiles: 103
    - path: data/dog
      md5: 4cd98e0169f25b4675d46cbc1b678d2d.dir
      size: 19364112
      nfiles: 174
  prepare_base_model:
    cmd: python src/stage_2_prepare_basemodel.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: 4db7a9b350cef64dbcec22bbc21cdf63
      size: 473
    - path: params.yaml
      md5: bb1ba5e11a877bec7f47e91f04ca8b05
      size: 142
    - path: src/stage_2_prepare_basemodel.py
      md5: 67a0c4b2afe9dda2ac46bbe3bfd73aed
      size: 2291
    - path: src/utils/all_utils.py
      md5: 0fe9bcc4134f62977696fcc10a5dd5a5
      size: 998
    - path: src/utils/models.py
      md5: d6718e96817139508768af198add3027
      size: 1857
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/VGG16_base_model.h5
      md5: 560a1fde3cc4c373026eac67c0a813d2
      size: 58920272
    - path: artifacts/base_model/updated_VGG16_base_model.h5
      md5: d7db381c5223c69c7115a6978c786977
      size: 59131992
  prepare_callbacks:
    cmd: python src/stage_3_prepare_callbacks.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: 4db7a9b350cef64dbcec22bbc21cdf63
      size: 473
    - path: params.yaml
      md5: bb1ba5e11a877bec7f47e91f04ca8b05
      size: 142
    - path: src/stage_2_prepare_basemodel.py
      md5: 67a0c4b2afe9dda2ac46bbe3bfd73aed
      size: 2291
    - path: src/utils/all_utils.py
      md5: 0fe9bcc4134f62977696fcc10a5dd5a5
      size: 998
    - path: src/utils/callbacks.py
      md5: 98be6ba51c7613e0a2b133ab5d80452c
      size: 1584
    outs:
    - path: artifacts/callbacks/ccjeckpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 174e536c3d4fbb350f5ed12a399febfd
      size: 682
  train:
    cmd: python src/stage_4_train.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/base_model/updated_VGG16_base_model.h5
      md5: d7db381c5223c69c7115a6978c786977
      size: 59131992
    - path: artifacts/callbacks/ccjeckpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 174e536c3d4fbb350f5ed12a399febfd
      size: 682
    - path: config/config.yaml
      md5: 4db7a9b350cef64dbcec22bbc21cdf63
      size: 473
    - path: data/cat
      md5: 2acc285e327d446c48b2deae2794c043.dir
      size: 18570831
      nfiles: 103
    - path: data/dog
      md5: 4cd98e0169f25b4675d46cbc1b678d2d.dir
      size: 19364112
      nfiles: 174
    - path: params.yaml
      md5: bb1ba5e11a877bec7f47e91f04ca8b05
      size: 142
    - path: src/stage_4_train.py
      md5: 54fb3572ebcf99f33b59b10a0918ae7d
      size: 2828
    - path: src/utils/all_utils.py
      md5: 0fe9bcc4134f62977696fcc10a5dd5a5
      size: 998
    - path: src/utils/callbacks.py
      md5: 98be6ba51c7613e0a2b133ab5d80452c
      size: 1584
    - path: src/utils/data_management.py
      md5: 06296741a0d90cc44ee1027343e7d64a
      size: 1622
    - path: src/utils/models.py
      md5: d6718e96817139508768af198add3027
      size: 1857
    params:
      params.yaml:
        AUGMENATATION: true
        CLASSES: 2
        EPOCHS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/model
      md5: 9b82e21897276be9f639ae08c76588fa.dir
      size: 59134472
      nfiles: 1
